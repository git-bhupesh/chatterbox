{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="delete-confirmation-container">
    <div class="card shadow-sm border-danger">
        <div class="card-header bg-danger text-white">
            <h4 class="mb-0">⚠️ Confirm Deletion</h4>
        </div>
        <div class="card-body text-center">
            <p class="lead">Are you sure you want to delete this post?</p>
            <p class="text-muted small">This action cannot be undone.</p>

            {# --- POST PREVIEW --- #}
            {% if post %}
            <div class="post-preview-summary my-4 p-3 border rounded bg-light text-start">
                {% if post.image %}
                    <img src="{{ post.image.url }}" class="img-thumbnail mb-2" style="max-height: 100px;">
                {% endif %}
                <p class="mb-0"><strong>Caption:</strong> {{ post.caption|truncatechars:100 }}</p>
                <small class="text-muted">Posted on: {{ post.created_at|date:"M d, Y" }}</small>
            </div>
            {% endif %}

            <form method="post" class="d-flex justify-content-center gap-3">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger px-4">Yes, Delete Post</button>
                <a href="{% url 'profile' user.username %}" class="btn btn-secondary px-4">Cancel</a>
            </form>
        </div>
    </div>
</div>

<style>
    .delete-confirmation-container {
        max-width: 500px;
        margin: 60px auto;
    }
    .post-preview-summary {
        font-size: 0.9rem;
    }
    .btn-danger {
        background-color: #dc3545;
        border: none;
        transition: transform 0.2s;
    }
    .btn-danger:hover {
        transform: scale(1.05);
        background-color: #c82333;
    }
</style>
{% endblock %}

{% comment %} {% extends 'base.html' %}
{% block content %}
  <div class="edit-profile-form">
    <h2>Confirm Delete</h2>
    <p>Are you sure you want to delete this post?</p>
    <form method="post">
      {% csrf_token %}
      <button type="submit">Yes, Delete</button>
      <a href="{% url 'feed' %}" class="btn">Cancel</a>
    </form>
  </div>
{% endblock %} {% endcomment %}
